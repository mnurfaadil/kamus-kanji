import"../chunks/DsnmJJEf.js";import{i as V}from"../chunks/ChX1ho2J.js";import{o as $}from"../chunks/DGVh4jpt.js";import{aI as D,aJ as J,z as N,a1 as T,aK as W,aL as G,a9 as P,u as Q,aM as U,F as X,R as f,aN as Y,p as Z,f as I,t as z,c as m,s as d,e as l,a as x,b as ee,C as k,aO as ae,r as v,i as w}from"../chunks/CBFVa8s6.js";import{e as L,s as re}from"../chunks/Bchu7ICs.js";import{i as te}from"../chunks/DUaqtC4k.js";import{a as O,e as ie,i as ne}from"../chunks/DJwSZHFI.js";import{r as le,s as oe}from"../chunks/DbZDjSb0.js";function R(e,a,n=!1){if(e.multiple){if(a==null)return;if(!T(a))return W();for(var i of e.options)i.selected=a.includes(_(i));return}for(i of e.options){var r=_(i);if(G(r,a)){i.selected=!0;return}}(!n||a!==void 0)&&(e.selectedIndex=-1)}function se(e){var a=new MutationObserver(()=>{R(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),N(()=>{a.disconnect()})}function ue(e,a,n=a){var i=!0;D(e,"change",r=>{var t=r?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(t),_);else{var s=e.querySelector(t)??e.querySelector("option:not([disabled])");o=s&&_(s)}n(o)}),J(()=>{var r=a();if(R(e,r,i),i&&r===void 0){var t=e.querySelector(":checked");t!==null&&(r=_(t),n(r))}e.__value=r,i=!1}),se(e)}function _(e){return"__value"in e?e.__value:e.value}function de(e,a,n=a){var i=new WeakSet;D(e,"input",async r=>{var t=r?e.defaultValue:e.value;if(t=C(e)?S(t):t,n(t),f!==null&&i.add(f),await P(),t!==(t=a())){var o=e.selectionStart,s=e.selectionEnd;e.value=t??"",s!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(s,e.value.length))}}),(X&&e.defaultValue!==e.value||Q(a)==null&&e.value)&&(n(C(e)?S(e.value):e.value),f!==null&&i.add(f)),U(()=>{var r=a();if(e===document.activeElement){var t=Y??f;if(i.has(t))return}C(e)&&r===S(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function C(e){var a=e.type;return a==="number"||a==="range"}function S(e){return e===""?null:+e}const c={};function ve(e){return e.replace(/[\u30a1-\u30f6]/g,a=>String.fromCharCode(a.charCodeAt(0)-96))}const ce={kyo:"きょ",kyu:"きゅ",kya:"きゃ",shi:"し",chi:"ち",tsu:"つ"};function fe(e){e=e.toLowerCase();for(const[a,n]of Object.entries(ce))e=e.replaceAll(a,n);return e}async function me(e){c.reading||(c.reading=await O("reading"));let a=e.trim();return/^[a-z]+$/.test(a)&&(a=fe(a)),a=ve(a),c.reading[a]||[]}async function _e(e){c["meaning.id"]||(c["meaning.id"]=await O("meaning.id"));const a=e.trim().toLowerCase();return c["meaning.id"][a]||[]}var be=I('<li class="border rounded p-3 text-center hover:bg-zinc-50"><a class="text-3xl">⛩️</a> <div class="text-xs text-zinc-500 mt-1"> </div></li>'),ge=I('<ul class="grid grid-cols-4 gap-3"></ul>'),he=I('<div class="mx-auto max-w-2xl p-4 space-y-4"><h1 class="text-2xl font-bold">Cari Kanji</h1> <div class="flex gap-2"><input class="input input-bordered flex-1 border rounded px-3 py-2" placeholder="ketik yomi (かな/カナ/romaji) atau arti (ID)"/> <select class="border rounded px-2 min-w-[120px]"><option>Reading</option><option>Arti (ID)</option></select> <button class="bg-black text-white rounded px-4">Cari</button></div> <!></div>');function Me(e,a){Z(a,!1);let n=k("laut"),i=k("meaning"),r=k([]);async function t(){w(r,l(i)==="reading"?await me(l(n)):await _e(l(n)))}$(async()=>{t()}),V();var o=he(),s=d(m(o),2),b=m(s);le(b);var g=d(b,2);z(()=>{l(i),ae(()=>{})});var h=m(g);h.value=h.__value="reading";var M=d(h);M.value=M.__value="meaning",v(g);var q=d(g,2);v(s);var B=d(s,2);{var F=u=>{var p=ge();ie(p,5,()=>l(r),ne,(H,A)=>{var y=be(),E=m(y),j=d(E,2),K=m(j,!0);v(j),v(y),z(()=>{oe(E,"href",`/k/${l(A)}`),re(K,l(A))}),x(H,y)}),v(p),x(u,p)};te(B,u=>{l(r).length&&u(F)})}v(o),de(b,()=>l(n),u=>w(n,u)),L("keydown",b,u=>u.key==="Enter"&&t()),ue(g,()=>l(i),u=>w(i,u)),L("click",q,t),x(e,o),ee()}export{Me as component};
